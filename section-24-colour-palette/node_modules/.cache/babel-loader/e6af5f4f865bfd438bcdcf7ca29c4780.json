{"ast":null,"code":"var _jsxFileName = \"/Users/win/modern-react-bootcamp/section-24-colour-palette/src/NewPaletteForm.js\";\nimport React, { Component } from 'react';\nimport classNames from \"classnames\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport Fab from '@material-ui/core/Fab';\nimport { arrayMove } from 'react-sortable-hoc';\nimport PaletteFormNavbar from './PaletteFormNavbar';\nimport ColorPickerForm from './ColorPickerForm';\nimport DraggableColourList from './DraggableColorList';\nconst drawerWidth = 500;\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\"\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\"\n  },\n  content: {\n    flexGrow: 1,\n    height: 'calc(100vh - 64px)',\n    padding: theme.spacing.unit * 3,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  },\n  container: {\n    width: '90%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%'\n  },\n  buttons: {\n    width: '100%'\n  },\n  button: {\n    width: '45%',\n    margin: '0 10px'\n  }\n});\n\nclass NewPaletteForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      open: true,\n      colors: this.props.palettes[0].colors,\n      newPaletteName: ''\n    };\n\n    this.handleDrawerOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.handleDrawerClose = () => {\n      this.setState({\n        open: false\n      });\n    };\n\n    this.addNewColorHandler = newColor => {\n      this.setState({\n        colors: [...this.state.colors, newColor],\n        newName: ''\n      });\n    };\n\n    this.paletteChangeHandler = evt => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      });\n    };\n\n    this.savePaletteHandler = newPalette => {\n      newPalette.id = newPalette.newPaletteName.toLowerCase().replace(/ /g, '-');\n      newPalette.colors = this.state.colours;\n      this.props.savePalette(newPalette);\n      this.props.history.push('/');\n    };\n\n    this.deleteColorHandler = colorName => {\n      this.setState({\n        colors: this.state.colors.filter(color => color.name !== colorName)\n      });\n    };\n\n    this.sortEndHandler = ({\n      oldIndex,\n      newIndex\n    }) => {\n      this.setState(({\n        colors\n      }) => ({\n        colors: arrayMove(colors, oldIndex, newIndex)\n      }));\n    };\n\n    this.clearPaletteHandler = () => {\n      this.setState({\n        colors: []\n      });\n    };\n\n    this.randomColorHandler = () => {\n      const allColors = this.props.palettes.map(p => p.colors).flat();\n      var randomNumber = Math.floor(Math.random() * allColors.length);\n      const randomColor = allColors[randomNumber];\n      this.setState({\n        colors: [...this.state.colors, randomColor]\n      });\n    };\n  }\n\n  render() {\n    const {\n      classes,\n      maxColors,\n      palettes\n    } = this.props;\n    const {\n      open,\n      colors\n    } = this.state;\n    const paletteIsFull = colors.length >= maxColors;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PaletteFormNavbar, {\n      open: open,\n      palettes: palettes,\n      savePaletteHandler: this.savePaletteHandler,\n      handleDrawerOpen: this.handleDrawerOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Drawer, {\n      className: classes.drawer,\n      variant: \"persistent\",\n      anchor: \"left\",\n      open: open,\n      classes: {\n        paper: classes.drawerPaper\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.drawerHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: this.handleDrawerClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ChevronLeftIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, \"Design Your Palette\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.buttons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      variant: \"extended\",\n      color: \"secondary\",\n      onClick: this.clearPaletteHandler,\n      className: classes.button,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, \"Clear Palette\"), /*#__PURE__*/React.createElement(Fab, {\n      variant: \"extended\",\n      color: \"primary\",\n      onClick: this.randomColorHandler,\n      disabled: paletteIsFull,\n      className: classes.button,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, paletteIsFull ? 'Palette Full' : 'Random Colour')), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ColorPickerForm, {\n      paletteIsFull: paletteIsFull,\n      addNewColorHandler: this.addNewColorHandler,\n      colors: colors,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"main\", {\n      className: classNames(classes.content, {\n        [classes.contentShift]: open\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.drawerHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(DraggableColourList, {\n      colors: colors,\n      deleteColorHandler: this.deleteColorHandler,\n      axis: \"xy\",\n      onSortEnd: this.sortEndHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nNewPaletteForm.defaultProps = {\n  maxColors: 20\n};\nexport default withStyles(styles, {\n  withTheme: true\n})(NewPaletteForm);","map":{"version":3,"sources":["/Users/win/modern-react-bootcamp/section-24-colour-palette/src/NewPaletteForm.js"],"names":["React","Component","classNames","withStyles","Drawer","Typography","Divider","IconButton","ChevronLeftIcon","Fab","arrayMove","PaletteFormNavbar","ColorPickerForm","DraggableColourList","drawerWidth","styles","theme","root","display","hide","drawer","width","flexShrink","drawerPaper","alignItems","drawerHeader","padding","mixins","toolbar","justifyContent","content","flexGrow","height","spacing","unit","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","contentShift","easeOut","enteringScreen","container","flexDirection","buttons","button","margin","NewPaletteForm","state","open","colors","props","palettes","newPaletteName","handleDrawerOpen","setState","handleDrawerClose","addNewColorHandler","newColor","newName","paletteChangeHandler","evt","target","name","value","savePaletteHandler","newPalette","id","toLowerCase","replace","colours","savePalette","history","push","deleteColorHandler","colorName","filter","color","sortEndHandler","oldIndex","newIndex","clearPaletteHandler","randomColorHandler","allColors","map","p","flat","randomNumber","Math","floor","random","length","randomColor","render","classes","maxColors","paletteIsFull","paper","defaultProps","withTheme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classNames from \"classnames\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport Fab from '@material-ui/core/Fab';\nimport { arrayMove } from 'react-sortable-hoc';\n\nimport PaletteFormNavbar from './PaletteFormNavbar';\nimport ColorPickerForm from './ColorPickerForm';\nimport DraggableColourList from './DraggableColorList';\n\nconst drawerWidth = 500;\n\nconst styles = theme => ({\n  root: {\n    display: \"flex\"\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  drawerHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"0 8px\",\n    ...theme.mixins.toolbar,\n    justifyContent: \"flex-end\"\n  },\n  content: {\n    flexGrow: 1,\n    height: 'calc(100vh - 64px)',\n    padding: theme.spacing.unit * 3,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  },\n  container: {\n    width: '90%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n  },\n  buttons: {\n    width: '100%'\n  },\n  button: {\n    width: '45%',\n    margin: '0 10px'\n  }\n});\n\nclass NewPaletteForm extends Component {\n  static defaultProps = {\n    maxColors: 20\n  }\n\n  state = {\n    open: true,\n    colors: this.props.palettes[0].colors,\n    newPaletteName: '',\n  };\n\n  handleDrawerOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleDrawerClose = () => {\n    this.setState({ open: false });\n  };\n\n  addNewColorHandler = (newColor) => {\n    this.setState({colors: [...this.state.colors, newColor], newName: ''});\n  }\n\n  paletteChangeHandler = (evt) => {\n    this.setState({\n      [evt.target.name]: evt.target.value\n    });\n  }\n\n  savePaletteHandler = (newPalette) => {\n    newPalette.id = newPalette.newPaletteName.toLowerCase().replace(/ /g, '-');\n    newPalette.colors = this.state.colours;\n    this.props.savePalette(newPalette);\n    this.props.history.push('/');\n  }\n\n  deleteColorHandler = (colorName) => {\n    this.setState({\n      colors: this.state.colors.filter(color => color.name !== colorName)\n    });\n  }\n\n  sortEndHandler = ({oldIndex, newIndex}) => {\n    this.setState(({colors}) => ({\n      colors: arrayMove(colors, oldIndex, newIndex),\n    }));\n  }\n\n  clearPaletteHandler = () => {\n    this.setState({colors: []});\n  }\n\n  randomColorHandler = () => {\n    const allColors = this.props.palettes.map(p => p.colors).flat();\n    var randomNumber = Math.floor(Math.random() * allColors.length);\n    const randomColor = allColors[randomNumber];\n    this.setState({colors: [...this.state.colors, randomColor]});\n  }\n\n  render() {\n    const { classes, maxColors, palettes } = this.props;\n    const { open, colors } = this.state;\n    const paletteIsFull = colors.length >= maxColors;\n\n    return (\n      <div className={classes.root}>\n        <PaletteFormNavbar \n          open={open}\n          palettes={palettes} \n          savePaletteHandler={this.savePaletteHandler} \n          handleDrawerOpen={this.handleDrawerOpen}/>\n        <Drawer\n          className={classes.drawer}\n          variant='persistent'\n          anchor='left'\n          open={open}\n          classes={{\n            paper: classes.drawerPaper\n          }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={this.handleDrawerClose}>\n              <ChevronLeftIcon />\n            </IconButton>\n          </div>\n          <div className={classes.container}>\n            <Typography variant='h4' gutterBottom>Design Your Palette</Typography>\n            <div className={classes.buttons}>\n              <Fab variant='extended' color='secondary' onClick={this.clearPaletteHandler} className={classes.button}>\n                Clear Palette\n              </Fab>\n              <Fab variant='extended' color='primary' onClick={this.randomColorHandler} disabled={paletteIsFull} className={classes.button}>\n              {paletteIsFull ? 'Palette Full' : 'Random Colour'}\n              </Fab>\n            </div>\n            <Divider />\n            <ColorPickerForm paletteIsFull={paletteIsFull} addNewColorHandler={this.addNewColorHandler} colors={colors}/>\n          </div>\n        </Drawer>\n        <main\n          className={classNames(classes.content, {\n            [classes.contentShift]: open\n          })}\n        >\n          <div className={classes.drawerHeader} />\n          <DraggableColourList \n            colors={colors} \n            deleteColorHandler={this.deleteColorHandler}\n            axis='xy'\n            onSortEnd={this.sortEndHandler}\n            />\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, {withTheme: true})(NewPaletteForm);"]},"metadata":{},"sourceType":"module"}